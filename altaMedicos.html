<!DOCTYPE html>
<html lang="es">

<head>
    <title>Alta de Medicos | Clínica Los Teros</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="CSS/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>

<body>
<script>
const token = sessionStorage.getItem("token");

//Si hay sesión-->agregar botón Cerrar Sesión
if(token){
    const navBar = document.querySelector("#navbarNav ul:last-child");
    const li = document.createElement("li");
    li.classList.add("nav-item");
    li.innerHTML = `<button id="logoutBtn" class="btn btn-danger ms-2">Cerrar sesión</button>`;
    navBar.appendChild(li);
}

//Función cerrar sesión
document.addEventListener("click", (e) => {
    if(e.target.id === "logoutBtn"){
        sessionStorage.clear();
        window.location.href = "login.html";
    }
});
</script>

    <header>
        <nav class="custom-navbar navbar navbar-expand-lg">
            <div class="container-fluid">
                <a class="navbar-title" href="index.html">
                    <h2>Clínica Los Teros</h2>
                </a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="institucional.html">Institucional</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contacto.html">Contacto</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="altaMedicos.html">Administración</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main class="container py-5">
        <a href="admin.html" class="btn-principal btn-lg mb-6">
            ← Volver al Panel de Administración
        </a>
        <h1 class="texto-centro mb-5 mt-5">Panel de Administración de Médicos</h1>

    <section class="mb-5 p-4 border rounded">
        <h2 class="mb-4">Registro de nuevo médico</h2>
        <form id="altaMedicosForm">
            <div class="row g-3">

                <div class="col-md-6">
                    <label for="apellido" class="form-label">Apellido (*)</label>
                    <input type="text" class="form-control" id="apellido" required>
                </div>
                <div class="col-md-6">
                    <label for="nombre" class="form-label">Nombre (*)</label>
                    <input type="text" class="form-control" id="nombre" required>
                </div>

                <div class="col-md-6">
                    <label for="matricula" class="form-label">Matrícula Profesional (*)</label>
                    <input type="text" class="form-control" id="matricula" required> 
                </div>
                <div class="col-md-6">
                    <label for="valor-consulta" class="form-label">Valor de Consulta (*)</label>
                    <input type="text" class="form-control" id="valor-consulta" placeholder="Ej: 5000.00" required>
                </div>

                <div class="col-md-6">
                    <label for="especialidad" class="form-label">Especialidad (*)</label>
                    <select class="form-select" id="especialidad" required>
                        <option value="" disabled selected>Seleccione una especialidad</option>
                        <option value="1">Cardiología</option>
                        <option value="2">Dermatología</option>
                        <option value="3">Pediatría</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label for="obra-social" class="form-label">Obras Sociales (*)</label>
                    <select class="form-select" id="obra-social" multiple required>
                        <option value="101">OSDE</option>
                        <option value="102">Swiss Medical</option>
                        <option value="103">PAMI</option>
                        <option value="104">Particular</option>
                    </select>
                    <div class="form-text">Mantenga Ctrl (o Cmd) para seleccionar varias.</div>
                </div>

                <div class="col-12">
                    <label for="descripcion" class="form-label">Descripción</label>
                    <textarea class="form-control" id="descripcion" rows="3" placeholder="Breve descripción del profesional..."></textarea>
                </div>
                <div class="col-12">
                    <label for="foto" class="form-label">Foto</label>
                    <input class="form-control" type="file" id="foto" accept="image/*">
                </div>

                <div class="col-md-6">
                    <label for="telefono" class="form-label">Teléfono</label>
                    <input type="tel" class="form-control" id="telefono">
                </div>
                <div class="col-12 mt-4 text-center">
                    <button type="submit" id="submitBtn" class="btn-principal">Registrar médico</button>
                    <button type="button" onclick="limpiarFormulario()" class="btn btn-secondary ms-2">Cancelar/Nuevo</button>
                </div>
            </div>
            <p class="mt-3 text-muted">(*) Campos obligatorios</p>
            <p class="text-muted">Administrar los turnos disponibles de cada médico desde el Panel de Administración.</p>
        </form>
    </section>

        <section>
            <h2 class="mb-3">Médicos registrados:</h2>
            <div class="table-responsive">
                <table class="table table-striped table-bordered" id="tabla-medicos">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre completo</th>
                            <th>Matrícula</th>
                            <th>Especialidad</th>
                            <th>Valor Consulta</th>
                            <th>Obras Sociales</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="tabla-medicos-body">
                        <tr>
                            <td colspan="6">Cargando médicos...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

    </main>

    <footer class="text-light mt-5">
        <div class="container text-center text-md-start">
            <div class="row text-center text-md-start">

                <div class="col-md-3 col-lg-3 col-xl-3 mx-auto mt-3">
                    <h5 class="footer-texto mb-4 font-weight-bold">CLÍNICA LOS TEROS</h5>
                    <hr class="mb-4">
                    <p>La salud y el bienestar de nuestros pacientes es nuestra prioridad.</p>
                    <ul class="redes">
                        <li><a href="https://www.facebook.com">Facebook</a></li>
                        <li><a href="https://www.instagram.com">Instagram</a></li>
                        <li><a href="https://www.twitter.com">Twitter</a></li>
                    </ul>
                </div>

                <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mt-3">
                    <h5 class="footer-texto mb-4 font-weight-bold">HORARIOS</h5>
                    <hr class="mb-4">
                    <p>Consultorios: Lunes a viernes de 8:00 a 20:00 hs. Sábados de 9:00 a 12 hs.</p>
                    <p>Laboratorio: Lunes a viernes de 7:00 a 20:00 hs. Sábados de 7:30 a 12:00hs.</p>
                    <p>Guardia médica: 24 hs.</p>
                </div>

                <div class="col-md-3 col-lg-3 col-xl-3 mx-auto mt-3">
                    <h5 class="footer-texto mb-4 font-weight-bold">CONTACTO</h5>
                    <hr class="mb-4">
                    <p>Clinica: +54 11 1234-5678</p>
                    <p>Central de turnos: 0800-123-4567</p>
                    <p>Mail: contacto@clinicalosteros.com</p>
                    <p>Dirección: Calle Falsa 123, Entre Ríos, Argentina</p>
                </div>

                <hr class="mb-4">
                <div class="text-center mb-2">
                    <p>© 2025 Clínica Los Teros. Todos los derechos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6C8Xz7vE2pW2fMv0nC1tP4P6J2G8D6D9Fq2ZpQx9o4u8V5b3S2K1L7A9Y0YxG3V"
        crossorigin="anonymous"></script>

    <script src="JS/altaMedicos.js" type="module"></script>
    <script type="module" src="JS/admin.js"></script>

</body>

</html>
